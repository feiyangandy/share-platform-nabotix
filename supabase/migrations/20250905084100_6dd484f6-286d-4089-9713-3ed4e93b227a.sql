-- Insert sample institutions first
INSERT INTO public.institutions (id, username, full_name, short_name, type, contact_person, contact_email, contact_phone, contact_id_type, contact_id_number, verified) VALUES
('550e8400-e29b-41d4-a716-446655440000', 'huaxi_hospital', '四川大学华西医院', '华西医院', 'hospital', '张教授', 'zhang@huaxi.edu.cn', '028-85422286', 'national_id', '510100196001011234', true),
('550e8400-e29b-41d4-a716-446655440001', 'scu_medical', '四川大学医学院', '川大医学院', 'university', '李主任', 'li@scu.edu.cn', '028-85501234', 'national_id', '510100197001011234', true),
('550e8400-e29b-41d4-a716-446655440002', 'west_china_research', '华西医学中心', '华西医学中心', 'research_center', '王博士', 'wang@research.cn', '028-85503456', 'national_id', '510100198001011234', true);

-- Insert sample research subjects
INSERT INTO public.research_subjects (id, name, name_en, description, active) VALUES
('660e8400-e29b-41d4-a716-446655440000', '心血管疾病', 'Cardiovascular Disease', '心血管系统相关疾病研究', true),
('660e8400-e29b-41d4-a716-446655440001', '内分泌代谢', 'Endocrinology', '内分泌系统和代谢相关疾病研究', true),
('660e8400-e29b-41d4-a716-446655440002', '神经系统疾病', 'Neurological Disorders', '神经系统疾病相关研究', true),
('660e8400-e29b-41d4-a716-446655440003', '肿瘤学', 'Oncology', '肿瘤相关疾病研究', true);

-- Insert sample users (including providers and researchers)
INSERT INTO public.users (id, username, real_name, email, phone, id_type, id_number, role, title, field, institution_id, education) VALUES
-- Data providers
('11111111-1111-1111-1111-111111111111', 'zhang_prof', '张明华', 'zhang@huaxi.edu.cn', '13800138001', 'national_id', '510100197001011001', 'data_provider', '主任医师', '心血管内科', '550e8400-e29b-41d4-a716-446655440000', 'professor'),
('22222222-2222-2222-2222-222222222222', 'li_director', '李晓红', 'li@scu.edu.cn', '13800138002', 'national_id', '510100197501011002', 'data_provider', '科主任', '内分泌科', '550e8400-e29b-41d4-a716-446655440001', 'professor'),
('33333333-3333-3333-3333-333333333333', 'wang_researcher', '王建国', 'wang@research.cn', '13800138003', 'national_id', '510100198001011003', 'data_provider', '研究员', '神经科学', '550e8400-e29b-41d4-a716-446655440002', 'phd'),
-- Researchers
('44444444-4444-4444-4444-444444444444', 'chen_student', '陈小明', 'chen@student.edu.cn', '13800138004', 'national_id', '510100199001011004', 'registered_researcher', '博士研究生', '生物统计学', '550e8400-e29b-41d4-a716-446655440001', 'phd'),
('55555555-5555-5555-5555-555555555555', 'liu_researcher', '刘丽华', 'liu@huaxi.edu.cn', '13800138005', 'national_id', '510100198501011005', 'registered_researcher', '副研究员', '流行病学', '550e8400-e29b-41d4-a716-446655440000', 'master'),
-- Platform admin
('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'admin_user', '系统管理员', 'admin@platform.cn', '13800138000', 'national_id', '510100197001011000', 'platform_admin', '系统管理员', '信息管理', '550e8400-e29b-41d4-a716-446655440000', 'master');

-- Insert sample datasets
INSERT INTO public.datasets (id, title_cn, description, type, category, provider_id, supervisor_id, subject_area_id, start_date, end_date, record_count, variable_count, keywords, published, approved, search_count) VALUES
('77777777-7777-7777-7777-777777777777', '冠心病队列研究数据集', '多中心前瞻性队列研究，跟踪冠心病患者5年预后情况，包含临床指标、生化指标、影像学数据等。研究覆盖华西医院、省医院等多个医疗机构，样本代表性强。', 'cohort', '心血管疾病', '11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', '660e8400-e29b-41d4-a716-446655440000', '2019-01-01', '2024-01-01', 2847, 156, ARRAY['冠心病', '队列研究', '预后', '心血管'], true, true, 45),
('88888888-8888-8888-8888-888888888888', '糖尿病患者生物标志物数据', '2型糖尿病患者血清生物标志物检测数据，包含炎症因子、代谢产物、蛋白质组学数据。采用高通量检测技术，数据质量可靠。', 'cross_sectional', '内分泌代谢', '22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222', '660e8400-e29b-41d4-a716-446655440001', '2023-03-01', '2023-12-31', 1563, 89, ARRAY['糖尿病', '生物标志物', '蛋白质组学'], true, true, 32),
('99999999-9999-9999-9999-999999999999', '脑卒中康复随访数据', '急性脑卒中患者康复治疗效果评估数据，包含运动功能、认知功能、生活质量评分。长期随访数据完整，适合预后研究。', 'cohort', '神经系统疾病', '33333333-3333-3333-3333-333333333333', '33333333-3333-3333-3333-333333333333', '660e8400-e29b-41d4-a716-446655440002', '2022-06-01', '2024-01-01', 892, 67, ARRAY['脑卒中', '康复', '功能评估'], true, true, 28),
('aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee', '肺癌基因组学数据集', '非小细胞肺癌患者基因组测序数据，包含体细胞突变、拷贝数变异、基因表达谱等多组学数据。', 'case_control', '肿瘤学', '11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', '660e8400-e29b-41d4-a716-446655440003', '2021-01-01', '2023-12-31', 456, 234, ARRAY['肺癌', '基因组学', '多组学'], true, true, 67),
('bbbbbbbb-cccc-dddd-eeee-ffffffffffff', '高血压患者用药依从性研究', '社区高血压患者用药依从性调查数据，包含用药行为、血压控制情况、生活质量等指标。', 'cross_sectional', '心血管疾病', '22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222', '660e8400-e29b-41d4-a716-446655440000', '2023-01-01', '2023-12-31', 1234, 78, ARRAY['高血压', '用药依从性', '社区研究'], true, true, 23);

-- Insert sample applications
INSERT INTO public.applications (id, dataset_id, applicant_id, supervisor_id, project_title, project_description, purpose, funding_source, status, submitted_at, reviewed_at, approved_at) VALUES
('cccccccc-dddd-eeee-ffff-000000000001', '77777777-7777-7777-7777-777777777777', '44444444-4444-4444-4444-444444444444', '22222222-2222-2222-2222-222222222222', '基于机器学习的心血管风险预测模型研究', '利用冠心病队列数据，构建机器学习预测模型，识别高风险患者，为临床决策提供支持。计划采用随机森林、支持向量机等多种算法进行建模和比较。', '学术研究，用于博士学位论文', '国家自然科学基金青年项目', 'approved', '2024-01-10', '2024-01-15', '2024-01-15'),
('dddddddd-eeee-ffff-0000-000000000002', '88888888-8888-8888-8888-888888888888', '55555555-5555-5555-5555-555555555555', '11111111-1111-1111-1111-111111111111', '糖尿病并发症早期预警指标筛选', '基于生物标志物数据，筛选糖尿病并发症的早期预警指标，建立风险评估体系。研究将采用多变量统计分析方法。', '学术研究，发表SCI论文', '省部级科研项目', 'under_review', '2024-01-12', NULL, NULL),
('eeeeeeee-ffff-0000-1111-000000000003', '99999999-9999-9999-9999-999999999999', '44444444-4444-4444-4444-444444444444', '33333333-3333-3333-3333-333333333333', '康复治疗效果评估体系建立', '基于脑卒中康复数据，建立标准化的康复效果评估体系，为临床康复方案制定提供参考。', '学术研究，用于课题研究', '医院科研基金', 'submitted', '2024-01-14', NULL, NULL),
('ffffffff-0000-1111-2222-000000000004', '77777777-7777-7777-7777-777777777777', '55555555-5555-5555-5555-555555555555', '11111111-1111-1111-1111-111111111111', '心血管疾病流行病学特征分析', '分析冠心病队列人群的流行病学特征，探索地域、人群特点对疾病发生发展的影响。', '学术研究', '无', 'approved', '2024-01-08', '2024-01-10', '2024-01-10'),
('00000000-1111-2222-3333-000000000005', 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee', '44444444-4444-4444-4444-444444444444', '11111111-1111-1111-1111-111111111111', '肺癌基因突变谱特征研究', '分析肺癌患者基因突变谱特征，寻找潜在的治疗靶点和预后标志物。', '学术研究', '国家重点研发计划', 'approved', '2024-01-05', '2024-01-08', '2024-01-08');

-- Insert sample research outputs
INSERT INTO public.research_outputs (id, dataset_id, submitter_id, title, abstract, type, publication_url, citation_count) VALUES
('output01-1111-2222-3333-444444444444', '77777777-7777-7777-7777-777777777777', '44444444-4444-4444-4444-444444444444', '基于多中心数据的心血管风险预测模型', '本研究基于华西医院等多中心冠心病队列数据，采用机器学习方法构建心血管风险预测模型。研究纳入2847例患者，建立了包含临床指标、生化指标的综合预测模型，AUC达到0.85，为临床风险评估提供了有效工具。', 'publication', 'https://doi.org/10.1161/CIRCULATIONAHA.123.456789', 12),
('output02-2222-3333-4444-555555555555', '88888888-8888-8888-8888-888888888888', '55555555-5555-5555-5555-555555555555', '糖尿病并发症早期识别算法研究', '基于1563例2型糖尿病患者的生物标志物数据，开发了糖尿病并发症早期识别算法。研究发现多个新的预警指标，算法敏感性达92%，特异性达88%，为糖尿病并发症的早期干预提供了科学依据。', 'publication', 'https://doi.org/10.2337/dc23-1234', 8),
('output03-3333-4444-5555-666666666666', '99999999-9999-9999-9999-999999999999', '33333333-3333-3333-3333-333333333333', '脑卒中康复效果影响因素分析', '通过对892例急性脑卒中患者康复数据的分析，识别了影响康复效果的关键因素。研究建立了康复效果预测模型，为个体化康复方案制定提供了参考，相关成果已应用于临床实践。', 'publication', 'https://doi.org/10.1161/STROKEAHA.123.789012', 5),
('output04-4444-5555-6666-777777777777', '77777777-7777-7777-7777-777777777777', '55555555-5555-5555-5555-555555555555', '心血管疾病风险评估系统软件著作权', '基于冠心病队列研究数据开发的心血管疾病风险评估系统，已获得国家软件著作权登记。该系统整合了多项临床指标，能够快速准确地评估患者心血管风险，已在多家医院投入使用。', 'software', NULL, 0),
('output05-5555-6666-7777-888888888888', 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee', '44444444-4444-4444-4444-444444444444', '肺癌精准治疗靶点发现专利', '基于肺癌基因组学数据发现的新型治疗靶点，已申请国家发明专利。该靶点在非小细胞肺癌中具有重要作用，为肺癌精准治疗提供了新的方向。', 'patent', NULL, 2);

-- Update search counts for datasets to make them more realistic
UPDATE public.datasets SET search_count = search_count + floor(random() * 50) + 10;